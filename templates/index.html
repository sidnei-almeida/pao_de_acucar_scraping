{% extends "base.html" %}

{% block title %}API de Dados Nutricionais - Início{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <h1 class="hero__title">API de Dados Nutricionais</h1>
    <p class="hero__subtitle">
        Colete e consulte dados nutricionais de produtos do Pão de Açúcar 
        de forma rápida, eficiente e automatizada.
    </p>
    <div class="hero__actions">
        <a href="{{ url_for('pagina_coletar') }}" class="btn btn--primary">
            <i class="fas fa-robot"></i>
            Iniciar Coleta
        </a>
        <a href="{{ url_for('pagina_consultar') }}" class="btn btn--outline">
            <i class="fas fa-search"></i>
            Consultar Dados
        </a>
    </div>
</section>

<!-- Métricas -->
<section class="section">
    <div class="grid grid--3">
        <div class="card text-center">
            <div class="card__icon">
                <i class="fas fa-database"></i>
            </div>
            <h3 class="card__title">{{ metricas.total_produtos or 0 }}</h3>
            <p class="card__description">Produtos Coletados</p>
        </div>
        <div class="card text-center">
            <div class="card__icon">
                <i class="fas fa-tags"></i>
            </div>
            <h3 class="card__title">{{ metricas.total_categorias or 0 }}</h3>
            <p class="card__description">Categorias Disponíveis</p>
        </div>
        <div class="card text-center">
            <div class="card__icon">
                <i class="fas fa-clock"></i>
            </div>
            <h3 class="card__title">{{ metricas.ultima_atualizacao or 'Nunca' }}</h3>
            <p class="card__description">Última Atualização</p>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="section">
    <h2 class="text-center mb-xl">Funcionalidades</h2>
    <div class="grid grid--auto">
        <div class="card">
            <div class="card__header">
                <div class="card__icon">
                    <i class="fas fa-robot"></i>
                </div>
                <h3 class="card__title">Coleta Automatizada</h3>
                <p class="card__description">
                    Sistema inteligente que coleta dados nutricionais automaticamente, 
                    com suporte a múltiplas categorias e modo de teste.
                </p>
            </div>
            <div class="card__content">
                <ul class="list-unstyled">
                    <li class="mb-sm">
                        <i class="fas fa-check text-success"></i>
                        Coleta em tempo real
                    </li>
                    <li class="mb-sm">
                        <i class="fas fa-check text-success"></i>
                        Múltiplas categorias
                    </li>
                    <li class="mb-sm">
                        <i class="fas fa-check text-success"></i>
                        Logs detalhados
                    </li>
                </ul>
            </div>
            <div class="card__footer">
                <a href="{{ url_for('pagina_coletar') }}" class="btn btn--primary">
                    <i class="fas fa-play"></i>
                    Começar Coleta
                </a>
            </div>
        </div>

        <div class="card">
            <div class="card__header">
                <div class="card__icon">
                    <i class="fas fa-search"></i>
                </div>
                <h3 class="card__title">Consulta Avançada</h3>
                <p class="card__description">
                    Pesquise e filtre produtos por categoria, nome ou valores nutricionais
                    com interface intuitiva e exportação de dados.
                </p>
            </div>
            <div class="card__content">
                <ul class="list-unstyled">
                    <li class="mb-sm">
                        <i class="fas fa-check text-success"></i>
                        Busca inteligente
                    </li>
                    <li class="mb-sm">
                        <i class="fas fa-check text-success"></i>
                        Filtros avançados
                    </li>
                    <li class="mb-sm">
                        <i class="fas fa-check text-success"></i>
                        Exportação Excel
                    </li>
                </ul>
            </div>
            <div class="card__footer">
                <a href="{{ url_for('pagina_consultar') }}" class="btn btn--primary">
                    <i class="fas fa-search"></i>
                    Consultar Dados
                </a>
            </div>
        </div>

        <div class="card">
            <div class="card__header">
                <div class="card__icon">
                    <i class="fas fa-code"></i>
                </div>
                <h3 class="card__title">API REST</h3>
                <p class="card__description">
                    Acesse todos os dados através de uma API REST documentada
                    e fácil de integrar em suas aplicações.
                </p>
            </div>
            <div class="card__content">
                <ul class="list-unstyled">
                    <li class="mb-sm">
                        <i class="fas fa-check text-success"></i>
                        Documentação completa
                    </li>
                    <li class="mb-sm">
                        <i class="fas fa-check text-success"></i>
                        Endpoints RESTful
                    </li>
                    <li class="mb-sm">
                        <i class="fas fa-check text-success"></i>
                        Formato JSON
                    </li>
                </ul>
            </div>
            <div class="card__footer">
                <a href="/docs" class="btn btn--primary">
                    <i class="fas fa-book"></i>
                    Ver Documentação
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Status Section -->
<section class="section">
    <div class="card">
        <div class="card__header text-center">
            <h2 class="card__title">Sistema Operacional</h2>
            <p class="card__description">
                O sistema está funcionando perfeitamente e pronto para uso.
                Monitore o status em tempo real.
            </p>
        </div>
        <div class="card__content">
            <div class="grid grid--4">
                <div class="text-center">
                    <div class="text-success mb-sm">
                        <i class="fas fa-check-circle" style="font-size: 2rem;"></i>
                    </div>
                    <h4 class="text-primary">API Online</h4>
                    <p class="text-secondary">Sistema operacional</p>
                </div>
                <div class="text-center">
                    <div class="text-success mb-sm">
                        <i class="fas fa-database" style="font-size: 2rem;"></i>
                    </div>
                    <h4 class="text-primary">Banco de Dados</h4>
                    <p class="text-secondary">Conectado</p>
                </div>
                <div class="text-center">
                    <div class="text-success mb-sm">
                        <i class="fas fa-cloud" style="font-size: 2rem;"></i>
                    </div>
                    <h4 class="text-primary">Servidor</h4>
                    <p class="text-secondary">Estável</p>
                </div>
                <div class="text-center">
                    <div class="text-success mb-sm">
                        <i class="fas fa-shield-alt" style="font-size: 2rem;"></i>
                    </div>
                    <h4 class="text-primary">Segurança</h4>
                    <p class="text-secondary">Protegido</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="section">
    <div class="card text-center">
        <div class="card__header">
            <h2 class="card__title">Pronto para Começar?</h2>
            <p class="card__description">
                Escolha uma das opções abaixo para começar a usar a API de Dados Nutricionais.
            </p>
        </div>
        <div class="card__content">
            <div class="d-flex justify-center gap-lg">
                <a href="{{ url_for('pagina_coletar') }}" class="btn btn--primary">
                    <i class="fas fa-robot"></i>
                    Começar Coleta
                </a>
                <a href="{{ url_for('pagina_consultar') }}" class="btn btn--outline">
                    <i class="fas fa-search"></i>
                    Explorar Dados
                </a>
                <a href="/docs" class="btn btn--secondary">
                    <i class="fas fa-book"></i>
                    Documentação
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block styles %}
<style>
/* Estilos específicos para a página inicial */
.list-unstyled {
    list-style: none;
    padding: 0;
}

.list-unstyled li {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.list-unstyled i {
    font-size: var(--font-size-sm);
}

/* Ajustes para dispositivos móveis */
@media (max-width: 768px) {
    .hero__actions {
        flex-direction: column;
        gap: var(--spacing-md);
    }
    
    .hero__actions .btn {
        width: 100%;
        justify-content: center;
    }
}
</style>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animação suave para os cards
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    });

    document.querySelectorAll('.card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'all 0.6s ease';
        observer.observe(card);
    });
});
</script>
{% endblock %} 